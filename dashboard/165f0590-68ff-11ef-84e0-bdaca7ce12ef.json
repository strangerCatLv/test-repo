{
  "entityType" : "DASHBOARD",
  "entity" : {
    "assignedCustomers" : null,
    "configuration" : {
      "description" : "",
      "widgets" : {
        "b71791d6-a00a-064b-88d2-59ff2840278b" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "device",
              "name" : null,
              "deviceId" : "e0e1dc00-d5d6-11ee-bebe-d97a1bfe6a79",
              "entityAliasId" : null,
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "alarmsCount",
                "type" : "timeseries",
                "label" : "alarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5602815622751198
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1695019258348,
                  "endTimeMs" : 1695105658348
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <div class='content'>\n    <img height=\"80px\" id=\"image\"/>\n        <audio id=\"sound\">\n         <source src=\"https://free-sound-effects.net/mp3/01/free-sound-effects-AA2G40A6.mp3\"  type=\"audio/mpeg\" />\n        </audio>\n    </div>\n</div>\n\n\n<script type=\"text/javascript\" charset=\"utf-8\">\n    var image = document.getElementById(\"image\");\n    if (${alarmsCount} >= 1) {\n        document.getElementById(\"sound\").setAttribute(\"autoplay\", ${alarmsCount});\n        document.getElementById(\"sound\").setAttribute(\"loop\", ${alarmsCount});\n        image.src= \"https://media.tenor.com/8vSJsVW-1pQAAAAi/police-car-light-joypixels.gif\";\n    } else {\n        document.getElementById(\"sound\").removeAttribute(\"autoplay\");\n        document.getElementById(\"sound\").removeAttribute(\"loop\");\n        image.src= \"https://cdn-icons-png.flaticon.com/128/2785/2785693.png\";\n    }\n    </script>",
              "cardCss" : ".card {\n   width: 100%;\n   height: 100%;\n   border: 0px solid #ccc;\n   box-sizing: border-box;\n}\n\n.card .content {\n   padding: 20px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: space-around;\n   height: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;    \n   justify-content: space-around;\n   height: 100%;\n}\n\n.card h1 {\n    text-transform: uppercase;\n    color: #999;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 0;\n    padding-bottom: 10px;\n    line-height: 32px;\n}\n\n.card .value {\n    font-size: 38px;\n    font-weight: 200;\n}\n\n.card .description {\n    font-size: 20px;\n    color: #999;\n}\n"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "enableDataExport" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "borderRadius" : "8px",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "b71791d6-a00a-064b-88d2-59ff2840278b",
          "typeFullFqn" : "system.cards.html_value_card"
        },
        "531d3aa7-570c-b811-4cf5-bd0197756932" : {
          "typeFullFqn" : "system.cards.html_value_card",
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "device",
              "name" : "",
              "deviceId" : "e0e1dc00-d5d6-11ee-bebe-d97a1bfe6a79",
              "dataKeys" : [ {
                "name" : "alarmsCount",
                "type" : "timeseries",
                "label" : "alarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.9636019962193223
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1725179819098,
                  "endTimeMs" : 1725266219098
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <style>\n        /* Animasi berkedip merah dan putih */\n        @keyframes blink {\n            0% { background-color: red; }\n            50% { background-color: white; }\n            100% { background-color: red; }\n        }\n\n        /* Style untuk card */\n        .card {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            transition: background-color 0.5s;\n        }\n\n        /* Style untuk animasi berkedip */\n        .card.blinking {\n            animation: blink 1s linear infinite;\n        }\n    </style>\n</head>\n<body>\n    <div class='card' id=\"cardContainer\">\n        <div class='content'>\n            <div class='column'>\n                <div class='value' id=\"alarmValue\" style=\"text-align: center;\">\n                    <!-- Value will be inserted here by JavaScript -->\n                </div>    \n            </div>\n            <img id=\"alarmImage\" style=\"display: block; margin: 0 auto;\" height=\"400px\" src=\"\" />\n        </div>\n    </div>\n\n    <audio id=\"alarmSound\" src=\"https://free-sound-effects.net/mp3/03/free-sound-1674742558.mp3\" loop muted></audio>\n\n    <script>\n        var alarmsCount = Math.floor(parseFloat('${alarmsCount}'));\n        \n        var cardContainer = document.getElementById('cardContainer');\n        var alarmImage = document.getElementById('alarmImage');\n        var alarmSound = document.getElementById('alarmSound');\n\n        function playAlarmSound() {\n            alarmSound.currentTime = 0;\n            alarmSound.muted = false; // Unmute the sound\n            alarmSound.play().catch(function(error) {\n                console.log(\"Audio play failed:\", error);\n                // Implement a user interaction to start audio, e.g., click event\n            });\n        }\n\n        if (alarmsCount === 0) {\n            alarmImage.src = \"https://png.pngtree.com/png-vector/20220925/ourmid/pngtree-vector-illustration-of-car-siren-light-on-a-white-background-vector-png-image_28358810.png\";\n            alarmSound.pause();\n            cardContainer.classList.remove('blinking'); // Remove blinking class when alarm is off\n        } else if (alarmsCount === 1) {\n            alarmImage.src = \"https://media.tenor.com/8vSJsVW-1pQAAAAi/police-car-light-joypixels.gif\";\n            alarmImage.onload = function() {\n                playAlarmSound();\n                cardContainer.classList.add('blinking'); // Add blinking class when alarm is on\n            };\n        }\n    </script>\n</body>\n</html>",
              "cardCss" : ".card {\n   width: 100%;\n   height: 100%;\n   border: 2px solid #ccc;\n   box-sizing: border-box;\n}\n\n.card .content {\n   padding: 20px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: space-around;\n   height: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;    \n   justify-content: space-around;\n   height: 100%;\n}\n\n.card h1 {\n    text-transform: uppercase;\n    color: #999;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 0;\n    padding-bottom: 10px;\n    line-height: 32px;\n}\n\n.card .value {\n    font-size: 38px;\n    font-weight: 200;\n}\n\n.card .description {\n    font-size: 20px;\n    color: #999;\n}\n"
            },
            "title" : "HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : true,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "531d3aa7-570c-b811-4cf5-bd0197756932"
        },
        "d73e879c-7eb9-15f7-365f-70966d2ae846" : {
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "device",
              "name" : null,
              "deviceId" : "e0e1dc00-d5d6-11ee-bebe-d97a1bfe6a79",
              "entityAliasId" : null,
              "filterId" : null,
              "dataKeys" : [ {
                "name" : "alarmsCount",
                "type" : "timeseries",
                "label" : "alarmsCount",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5602815622751198
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY"
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1695019258348,
                  "endTimeMs" : 1695105658348
                },
                "quickInterval" : "CURRENT_DAY"
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <div class='content'>\n    <img height=\"80px\" id=\"image\"/>\n        <audio id=\"sound\">\n         <source src=\"https://free-sound-effects.net/mp3/01/free-sound-effects-AA2G40A6.mp3\"  type=\"audio/mpeg\" />\n        </audio>\n    </div>\n</div>\n\n\n<script type=\"text/javascript\" charset=\"utf-8\">\n    var image = document.getElementById(\"image\");\n    if (${alarmsCount} >= 1) {\n        document.getElementById(\"sound\").setAttribute(\"autoplay\", ${alarmsCount});\n        document.getElementById(\"sound\").setAttribute(\"loop\", ${alarmsCount});\n        image.src= \"https://media.tenor.com/8vSJsVW-1pQAAAAi/police-car-light-joypixels.gif\";\n    } else {\n        document.getElementById(\"sound\").removeAttribute(\"autoplay\");\n        document.getElementById(\"sound\").removeAttribute(\"loop\");\n        image.src= \"https://cdn-icons-png.flaticon.com/128/2785/2785693.png\";\n    }\n    </script>",
              "cardCss" : ".card {\n   width: 100%;\n   height: 100%;\n   border: 0px solid #ccc;\n   box-sizing: border-box;\n}\n\n.card .content {\n   padding: 20px;\n   display: flex;\n   flex-direction: row;\n   align-items: center;\n   justify-content: space-around;\n   height: 100%;\n   box-sizing: border-box;\n}\n\n.card .content .column {\n   display: flex;\n   flex-direction: column;    \n   justify-content: space-around;\n   height: 100%;\n}\n\n.card h1 {\n    text-transform: uppercase;\n    color: #999;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 0;\n    padding-bottom: 10px;\n    line-height: 32px;\n}\n\n.card .value {\n    font-size: 38px;\n    font-weight: 200;\n}\n\n.card .description {\n    font-size: 20px;\n    color: #999;\n}\n"
            },
            "title" : "New HTML Value Card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : { },
            "enableDataExport" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "borderRadius" : "8px",
            "displayTimewindow" : true
          },
          "row" : 0,
          "col" : 0,
          "id" : "d73e879c-7eb9-15f7-365f-70966d2ae846",
          "typeFullFqn" : "system.cards.html_value_card"
        }
      },
      "states" : {
        "default" : {
          "name" : "test",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "b71791d6-a00a-064b-88d2-59ff2840278b" : {
                  "sizeX" : 8,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 0
                },
                "531d3aa7-570c-b811-4cf5-bd0197756932" : {
                  "sizeX" : 8,
                  "sizeY" : 2,
                  "row" : 0,
                  "col" : 8
                },
                "d73e879c-7eb9-15f7-365f-70966d2ae846" : {
                  "sizeX" : 8,
                  "sizeY" : 2,
                  "row" : 2,
                  "col" : 2
                }
              },
              "gridSettings" : {
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        }
      },
      "entityAliases" : {
        "7ab67317-5908-38e2-96c7-571606959c82" : {
          "id" : "7ab67317-5908-38e2-96c7-571606959c82",
          "alias" : "Asset Devices",
          "filter" : {
            "type" : "deviceSearchQuery",
            "resolveMultiple" : true,
            "rootStateEntity" : true,
            "stateEntityParamName" : "selectedAsset",
            "defaultStateEntity" : null,
            "rootEntity" : null,
            "direction" : "FROM",
            "maxLevel" : 1,
            "fetchLastLevelOnly" : false,
            "relationType" : "Contains",
            "deviceTypes" : [ "Sonoff", "Temperature", "sensor smoke", "PUSH BUTTON" ]
          }
        }
      },
      "filters" : { },
      "timewindow" : {
        "displayValue" : "",
        "hideInterval" : false,
        "hideLastInterval" : false,
        "hideQuickInterval" : false,
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "interval" : 1000,
          "timewindowMs" : 60000,
          "quickInterval" : "CURRENT_DAY"
        },
        "history" : {
          "historyType" : 0,
          "interval" : 1000,
          "timewindowMs" : 60000,
          "fixedTimewindow" : {
            "startTimeMs" : 1725176627625,
            "endTimeMs" : 1725263027625
          },
          "quickInterval" : "CURRENT_DAY"
        },
        "aggregation" : {
          "type" : "AVG",
          "limit" : 25000
        }
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : true,
        "showDashboardTimewindow" : true,
        "showDashboardExport" : true,
        "toolbarAlwaysOpen" : true
      }
    },
    "customerId" : null,
    "externalId" : null,
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "165f0590-68ff-11ef-84e0-bdaca7ce12ef"
    },
    "image" : null,
    "mobileHide" : false,
    "mobileOrder" : null,
    "name" : "test",
    "ownerId" : null,
    "title" : "test"
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}